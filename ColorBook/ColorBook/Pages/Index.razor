@page "/"
@inject IJSRuntime JS
@using System
@inject ISettingsService settingsService
@inject ISchemeService schemeService;

<main class="main__wrapper">

    <SideBar OnSchemeLoad="SetScheme" />

    <ColorSelection />

    <ColorInfo ColorHex="@colorHex" OnAddColor="AddColor" />

    <SchemeInfo Scheme="colorScheme" OnColorSelect="SetColor" />

</main>

@code {
    ColorScheme colorScheme;

    string colorHex { get; set; } = "#ff00ff";



    protected override async Task OnInitializedAsync()
    {
        colorScheme = GetColorScheme();
    }


    void SetScheme(ColorScheme scheme)
    {
        colorScheme = scheme;
    }

    void AddColor(string colorHex)
    {
        colorScheme.AddColor(colorHex);
    }

    void SetColor(string color)
    {
        colorHex = color;
    }

    private ColorScheme GetColorScheme()
    {
        return new ColorScheme
        {
            Id = Guid.NewGuid(),
            Name = string.Empty,
            Colors = new List<NamedColor>
{
                new NamedColor("#123456"),
                new NamedColor("#4DEA26"),
                new NamedColor("#AABBCC"),
                new NamedColor("#DDEEFF"),
                new NamedColor("#998877")
            }
        };
    }
}